@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ------------------------------------------------------------
   Design tokens — Light theme (default)
   ------------------------------------------------------------ */
:root {
  --background: #ffffff;           
  --bg-url: url('/background.png'); 

  --foreground: #0f1724;         
  --card: oklch(0.98 0.02 160);
  --card-foreground: #0f1724;
  --popover: #ffffff;
  --popover-foreground: #0f1724;


  --primary: #73ad9e;              
  --primary-foreground: #ffffff;

  --secondary: #a7f3d0;             
  --secondary-foreground: oklch(1 0 0);

  
  --muted: #f1f5f9;
  --muted-foreground: #334155;

  --accent: oklch(0.7 0.1 176);
  --accent-foreground: oklch(1 0 0);


  --destructive: #ef4444;
  --destructive-foreground: #ffffff;


  --border: oklch(0.9 0.005 150);
  --input: oklch(0.98 0.005 150);
  --ring: #73ad9e;

 
  --chart-1: #bbf7d0;
  --chart-2: #86efac;
  --chart-3: #94a3b8;
  --chart-4: #f87171;
  --chart-5: #ccfbf1;


  --radius: 0.5rem;


  --header: #93DCB0;
  --sidebar: oklch(0.98 0.02 160);
  --sidebar-foreground: #0f1724;
  --sidebar-primary: #73ad9e;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #a7f3d0;
  --sidebar-accent-foreground: #052e00;
  --sidebar-border: #e6eef0;
  --sidebar-ring: #73ad9e;
}

/* ------------------------------------------------------------
   Dark theme tokens — lime / yellow-green based, poppy & readable
   (applied when .dark class is present on root)
   ------------------------------------------------------------ */
.dark {
  /* base surfaces */
  --background: #101410;            /* background */
  --foreground: #e0e3dd;            /* on-background */
  --card: #101410;                  /* surface */
  --card-foreground: #e0e3dd;       /* on-surface */
  --popover: #101410;               /* surface */
  --popover-foreground: #e0e3dd;    /* on-surface */

  /* Primary */
  --primary: #93DCB0;               /* primary */
  --primary-foreground: #00391f;    /* on-primary */

  /* Secondary */
  --secondary: #b4ccb8;             /* secondary */
  --secondary-foreground: #20352b;  /* on-secondary */

  /* Muted (use surface-variant) */
  --muted: #404943;                 /* surface-variant */
  --muted-foreground: #bfc9c1;      /* on-surface-variant */

  /* Accent → tertiary */
  --accent: #a1cce0;                /* tertiary */
  --accent-foreground: #003547;     /* on-tertiary */

  /* Destructive → error */
  --destructive: #ffb4ab;           /* error */
  --destructive-foreground: #690005;/* on-error */

  /* Borders / inputs / rings */
  --border: #2a322d;                /* 全体のborderも合わせて暗めに */
  --input: #364b41;                 /* secondary-container */
  --ring: #93DCB0;                  /* primary */

  /* Chart palette (Material-ish) */
  --chart-1: #93DCB0;               /* primary */
  --chart-2: #b4ccb8;               /* secondary */
  --chart-3: #a1cce0;               /* tertiary */
  --chart-4: #ffb4ab;               /* error */
  --chart-5: #d0e8d4;               /* on-secondary-container */

  /* Header / sidebar */
  --header: #1b6e4f; 
  --sidebar: #101410;               /* surface */
  --sidebar-foreground: #e0e3dd;    /* on-surface */
  --sidebar-primary: #93DCB0;       /* primary */
  --sidebar-primary-foreground: #00391f; /* on-primary */
  --sidebar-accent: #a1cce0;        /* tertiary */
  --sidebar-accent-foreground: #003547; /* on-tertiary */
  --sidebar-border: #2a322d;        /* もう少し暗めのoutline-variant */
  --sidebar-ring: #93DCB0;          /* primary */
}
/* ------------------------------------------------------------
   Mapping for internal tokens (used by components)
   ------------------------------------------------------------ */
@theme inline {
  --font-sans: var(--font-noto-sans-jp);
  --font-mono: var(--font-jetbrains-mono);
  --font-serif: var(--font-playfair);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --color-header: var(--header);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* ------------------------------------------------------------
   Base layer: apply tokens to base elements and pseudo layers
   ------------------------------------------------------------ */
@layer base {
  * {
    /* Use token-based border & focus ring in utility form */
    @apply border-border outline-ring/50;
  }

  html, body, #__next {
    height: 100%;
  }

  body {
    margin: 0;
    position: relative;
    min-height: 100vh;
    font-family: var(--font-sans, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial);
    color: var(--foreground);
    background: none; /* background is handled by pseudo layers below */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Background color layer (under content, above page background) */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -2;
    background-color: var(--background);
    transition: background-color 160ms ease;
  }

  /* Background image layer (on top of color layer, behind content) */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image: var(--bg-url);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    opacity: 0.45; /* slight transparency so content feels layered */
    pointer-events: none;
    transition: opacity 160ms ease;
  }

  /* Card default using tokens */
  .card, .card * {
    background-color: var(--card);
    color: var(--card-foreground);
    border-color: var(--border);
  }

  /* Muted background helper */
  .bg-muted {
    background-color: var(--muted);
    color: var(--muted-foreground);
  }

  /* Small helpers for text */
  .text-muted-foreground {
    color: var(--muted-foreground);
  }

  /* Utility: primary button using tokens for callers that may not use Tailwind directly */
  .btn-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
    border-radius: var(--radius);
    padding: 0.5rem 1rem;
    border: 1px solid rgba(0,0,0,0.03);
  }
}

/* End of globals.css */
